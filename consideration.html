<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gelista Flavour Grid (Side-by-Side)</title>
  <style>
	/* 通用页面样式 */
	body {
	  font-family: 'Times New Roman', serif;
	  padding: 20px;
	}

	h2 {
	  text-align: center;
	  font-size: 36px;
	}

	/* 横向表格容器，用于两个表格并排 */
	.tables-container {
	  display: flex;
	  justify-content: space-between;
	  flex-wrap: wrap;
	  gap: 10px;
	}

	.tables-container table {
	  width: 48%; /* 只影响 tables-container 里的表格 */
	  border-collapse: collapse;
	  margin-top: 20px;
	}

	/* 表格通用样式 */
	th, td {
	  border: 1px solid #ccc;
	  text-align: center;
	  padding: 6px;
	  height: 30px;
	  font-size: 12px;
	}

	th {
	  background-color: #eae3ee;
	}

	/* 可填充格子样式 */
	.filled {
	  background-color: #C6A5C8;
	  cursor: pointer;
	  padding: 0;
	}

	.filled input {
	  background-color: transparent;
	  border: none;
	  width: 40px;
	  height: 100%;
	  text-align: center;
	  font-size: 12px;
	  padding: 0;
	  box-sizing: border-box;
	}

	.filled.selected {
	  background-color: #A267AC;
	}

	.empty {
	  background-color: #F3EDF4;
	}

	#confirm {
	  margin-top: 20px;
	  padding: 10px 20px;
	  font-size: 16px;
	  background-color: #A267AC;
	  color: white;
	  border: none;
	  border-radius: 6px;
	  cursor: pointer;
	}

	#confirm:hover {
	  background-color: #7e4f8c;
	}

	.section {
	  margin-bottom: 60px;
	}

	/* 分析区域 */
	.analysis-content {
	  border: 1px dashed #aaa;
	  padding: 20px;
	  margin-top: 20px;
	  text-align: center;
	  font-size: 16px;
	  background-color: #f8f5f9;
	}

	/* 储存系统 Tank / Bucket */
	.storage-simulation {
	  display: flex;
	  justify-content: space-between;
	  align-items: flex-start;
	  flex-wrap: wrap;
	  gap: 40px;
	}

	.storage-block {
	  display: flex;
	  flex-direction: column;
	  align-items: center;
	}

	.label-title {
	  font-size: 16px;
	  font-weight: bold;
	  margin-bottom: 10px;
	  color: #333;
	}

	.tank-row,
	.bucket-row {
	  display: flex;
	  justify-content: center;
	  gap: 20px;
	  margin-top: 10px;
	  margin-bottom: 20px;
	}

	.tank {
	  width: 60px;
	  height: 150px;
	  background-color: #b0c4de;
	  border: 2px solid #333;
	  border-radius: 8px;
	  position: relative;
	  display: flex;
	  justify-content: center;
	  align-items: flex-end;
	}

	.bucket {
	  width: 40px;
	  height: 80px;
	  background-color: #deb887;
	  border: 2px solid #333;
	  border-radius: 6px;
	  position: relative;
	  display: flex;
	  justify-content: center;
	  align-items: flex-end;
	}

	.tank, .bucket {
	  position: relative;
	  display: flex;
	  align-items: flex-end;
	  justify-content: center;
	}

	.label {
	  position: absolute;
	  bottom: 5px;
	  font-size: 12px;
	  color: white;
	  font-weight: bold;
	}

	.tank.filled {
	  background-color: #4b0082; /* 深紫色 */
	}

	.bucket.filled {
	  background-color: #8b4513; /* 深棕色 */
	}

	/* ✅ Weekly Delivery Plan 表格居中修复 */
	.weekly-table-container {
	  width: 100%;
	  display: flex;
	  justify-content: center;
	}

	.weekly-inner {
	  width: 100%;
	  max-width: 100%;
	}

	.weekly-inner table {
	  width: 100% !important;
	  border-collapse: collapse;
	  margin-top: 20px;
	}
	.weekly-table {
	  width: 100%;
	  border-collapse: collapse;
	}

	.weekly-table th, .weekly-table td {
	  border: 1px solid #ccc;
	  padding: 4px;
	  text-align: center;
	}
	.weekly-table input[type="number"] {
	  width: 80px;
	  padding: 2px 4px;
	  font-size: 12px;
	}
    .production-days {
	  display: flex;
	  gap: 10px;
	  margin-bottom: 20px;
	  padding: 10px 0;
	}

	.day-label {
	  padding: 6px 12px;
	  border: 1px solid #ccc;
	  border-radius: 6px;
	  cursor: pointer;
	  background-color: #f0f0f0;
	}

	.day-label.selected {
	  background-color: #A267AC;
	  color: white;
	}

	.production-view {
	  display: flex;
	  justify-content: space-between;
	  gap: 40px;
	}

	.storage-status, .production-plan {
	  width: 48%;
	}

	.production-plan ul {
	  padding-left: 20px;
	}
  </style>
</head>

<body>
<!-- Table of choise(flavour/range) -->
<div class="section">
  <h2>Consideration Mapping</h2>
  <div class="tables-container">
    <table id="flavourGrid1">
      <thead>
        <tr><th>Flavour</th><th>100ML</th><th>10L</th><th>150ML</th><th>2L</th><th>570ML</th><th>5L</th><th>6L</th><th>80ML</th></tr>
      </thead>
      <tbody>
        <tr><td>Banana</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Bean & Bikkie Ginger Bread</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Bees' Sneeze Honey Crunch</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Black Sesame</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Blood Orange Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr>
	    <td>Blood Orange and Dark Chocolate</td>
		<td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td><td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td><td class="empty"></td>
	  </tr>
	  <tr><td>Choc Brownie</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Chocolate Banana</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
      <tr><td>Chocolate Cherry Parfait</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Chocolate Coconut Rough</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Chocolate Hazelnut</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Chocolate Hazelnut </td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Chocolate Ice Cream</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Cinnamon</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Classic Chocolate</td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Classic Chocolate </td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Classic Strawberry</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
      <tr><td>Coconut  </td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Coconut Cream and Desert Lime</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr>
	    <td>Coconut with Raspberry Swirl</td>
		<td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Coffee</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Coffee  </td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Coffee with White Chocolate Swirl</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Cookie Dough (French Vanilla with Choc Chip)</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Cookies and Creme</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Cookies and Cr猫me</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>DF Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Coconut</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Coconut with Raspberry Swirl</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Durian</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Salted Caramel with Crunchy Toffee Piece</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Turkish Delight</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>DF Vanilla Bean</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Davidson Plum</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Death by Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Durian</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>French Vanilla Bean</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Frozen Peach Yoghurt</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Frozen Yoghurt</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Glen Ewin Fig Leaf</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Green Apple Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Hazelnut</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Hojicha (Roasted Green Tea)</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Illawarra Plum</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Irish Cream</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Josephine's French Vanilla</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Kakadu Plum</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Latte</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lemon</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lemon Myrtle & Macadamia with Toasted Coconut</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lemon Sorbet</td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lemon Sorbet & Desert Lime</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lightly Salted Caramel Macadamia</td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lilly Pilly & Wild Ginger</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lime Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Lime Spider</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
      <tr><td>Liquorice</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Lu'Mone Cheesecake</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      
      </tbody>
    </table>
    <table id="flavourGrid2">
      <thead>
        <tr><th>Flavour</th><th>100ML</th><th>10L</th><th>150ML</th><th>2L</th><th>570ML</th><th>5L</th><th>6L</th><th>80ML</th></tr>
      </thead>
      <tbody>
        <tr><td>Macadamia</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Macadamia and KI Honey</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Mallee Honey</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Mandarin Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Mango Smoothies</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
      <tr>
	    <td>Mango Sorbet</td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td></tr>
      <tr><td>Mango and Cream with Macadamia</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
      <tr><td>Mango with Passionfruit Swirl</td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Matcha (Green Tea)</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Mint & Dark Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Mint and Dark Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Muntries</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Native Mint</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Old English Toffee</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Orange and Lemon</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
	  <tr><td>Passionfruit Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Peanut Butter Cookie Dough</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Peanut Butter Cookie Dough  </td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr>
	    <td>Peanut Butter with Chocolate and Caramel Swirl</td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Pistachio</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Quandong</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Rainbow</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Raspberry Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr>
	    <td>Raspberry Swirl</td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td></tr>
	  <tr><td>Raspberry lemonade</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
	  <tr>
	    <td>Ricotta, Fig and Honey</td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Rosella</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Rum and Raisin</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Saltbush Caramel</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Salted Caramel and Macadamia</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Spiced Cookie Butter </td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Strawberries Delight</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Strawberry Delight</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Strawberry Gum Leaf</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Strawberry Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Strawberry Sorbet </td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Strawberry with White Chocolate Swirl</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Thai Tea</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Turkish Delight</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Ube</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr>
	    <td>Vanilla Bean</td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td></tr>
	  <tr><td>Vanilla Bean Ice Cream</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td></tr>
	  <tr><td>Vanilla Bean and Macadamia</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Vanilla Bean with White Chocolate and Nougat</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Vanilla Whip</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Watermelon Kiss</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Watermelon Lime</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td></tr>
	  <tr><td>Wattleseed</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>White Chocolate</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr>
	    <td>White Chocolate with Raspberry Ripple</td>
		<td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="filled"><input type="number" min="0"></td>
		<td class="empty"></td></tr>
	  <tr><td>Wild Hibiscus and Mixed Berry Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>
	  <tr><td>Yuzu Sorbet</td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="empty"></td><td class="filled"><input type="number" min="0"></td><td class="empty"></td><td class="empty"></td></tr>

      </tbody>
    </table>
  </div>
  <button id="confirm">✅ confirm</button>
</div>
  
<div class="section weekly-table-container">
  <div class="weekly-inner">
    <h3 style="margin-top: 30px;">Weekly Delivery Plan</h3>

    <table class="weekly-table">
      <thead>
        <tr>
          <th></th>
          <th>Monday</th>
          <th>Tuesday</th>
          <th>Wednesday</th>
          <th>Thursday</th>
          <th>Friday</th>
          <th>Saturday</th>
          <th>Sunday</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Type</td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
          <td><select><option value="tank">Tank</option><option value="bucket">Bucket</option></select></td>
        </tr>
        <tr>
          <td>Delivery Weight (kg)</td>
          <td><input type="number" placeholder="e.g. 20"></td>
          <td><input type="number" placeholder="e.g. 10"></td>
          <td><input type="number" placeholder="e.g. 5"></td>
          <td><input type="number" placeholder="e.g. 12"></td>
          <td><input type="number" placeholder="e.g. 15"></td>
          <td><input type="number" placeholder="e.g. 0"></td>
          <td><input type="number" placeholder="e.g. 8"></td>
        </tr>
      </tbody>
    </table>

    <div class="analysis-content">
      Select any cell to analyze storage use or production constraints.
    </div>
  </div>
</div>


<!-- 储存图示区域 -->
<!-- 顶部日期栏 -->
<div class="production-days">
  <div class="day-label selected" data-day="0">Day 0</div>
  <div class="day-label" data-day="1">Day 1</div>
  <div class="day-label" data-day="2">Day 2</div>
  <div class="day-label" data-day="3">Day 3</div>
  <div class="day-label" data-day="4">Day 4</div>
  <div class="day-label" data-day="5">Day 5</div>
  <div class="day-label" data-day="6">Day 6</div>
  <div class="day-label" data-day="7">Day 7</div>
  <!-- 可动态生成 -->
</div>

<!-- 主展示区域：左=储存图示；右=生产安排 -->
<div class="day-view-container">
  <!-- ✅ Day 0 -->
  <div class="day-content" data-day="0" style="display: block;">
    <div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): 
            <input type="number" class="tankWeight" value="200">
          </label><br><br>
          <div class="tank-row">
            <div class="tank filled"><span class="label">200kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): 
            <input type="number" class="bucketWeight" value="50">
          </label><br><br>
          <div class="bucket-row">
            <div class="bucket filled"><span class="label">50kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- 以下 Day 1 ~ Day 7 容器仅样式不同 -->
  <!-- 可复制上方结构 7 次并改 data-day 和 display -->
  <div class="day-content" data-day="1" style="display: none;">
    <!-- 复制 Day 0 的内容模板即可 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>
  
  <!-- Day 2 -->
  <div class="day-content" data-day="2" style="display: none;">
    <!-- 复制 Day 1 的内容模板即可 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- Day 3 -->
  <div class="day-content" data-day="3" style="display: none;">
    <!-- 复制内容 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- Day 4 -->
  <div class="day-content" data-day="4" style="display: none;">
    <!-- 复制内容 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- Day 5 -->
  <div class="day-content" data-day="5" style="display: none;">
    <!-- 复制内容 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- Day 6 -->
  <div class="day-content" data-day="6" style="display: none;">
    <!-- 复制内容 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>

  <!-- Day 7 -->
  <div class="day-content" data-day="7" style="display: none;">
    <!-- 复制内容 -->
	<div class="production-view">
      <div class="storage-simulation">
        <div class="storage-block">
          <div class="label-title">TANK</div>
          <label>Tank Current Storage (kg): <input type="number" class="tankWeight" placeholder="e.g. 200"></label><br><br>
          <div class="tank-row">
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
            <div class="tank"><span class="label">0kg</span></div>
          </div>
        </div>

        <div class="storage-block">
          <div class="label-title">BUCKET</div>
          <label>Bucket Current Storage (kg): <input type="number" class="bucketWeight" placeholder="e.g. 50"></label><br><br>
          <div class="bucket-row">
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
            <div class="bucket"><span class="label">0kg</span></div>
          </div>
        </div>
      </div>

      <div class="production-plan">
        <div class="label-title">Production Plan</div>
        <ul class="production-list"></ul>
      </div>
    </div>
  </div>
</div>

<!-- 🔽 Lower half：Analysis -->
<div class="section">
  <h2>Analysis</h2>
  <div class="analysis-content">
    👉 Subsequent charts, trend analysis, sales comparison, and recommendation results will be displayed here.
  </div>
</div>



<script>
  // ✅ 1. 口味排序优先级定义（可以自行扩展）
  const flavourInfo = {
	"DF Chocolate": { allergens: [], color: 20 },
	"DF Coconut": { allergens: [], color: 1 },
	"DF Coconut with Raspberry Swirl": { allergens: [], color: 1 },
	"DF Durian": { allergens: [], color: 10 },
	"DF Salted Caramel with Crunchy Toffee Piece": { allergens: [], color: 9 },
	"DF Turkish Delight": { allergens: [], color: 12 },
	"DF Vanilla Bean": { allergens: [], color: 1 },
	"Blood Orange Sorbet": { allergens: [], color: 13 },
	"Green Apple Sorbet": { allergens: [], color: 17 },
	"Lemon Sorbet": { allergens: [], color: 1 },
	"Lemon Sorbet & Desert Lime": { allergens: [], color: 1 },
	"Lime Sorbet": { allergens: [], color: 17 },
	"Mandarin Sorbet": { allergens: [], color: 11 },
	"Mango Sorbet": { allergens: [], color: 10 },
	"Passionfruit Sorbet": { allergens: [], color: 10 },
	"Raspberry Sorbet": { allergens: [], color: 14 },
	"Strawberry Sorbet": { allergens: [], color: 12 },
	"Wild Hibiscus and Mixed Berry Sorbet": { allergens: [], color: 23 },
	"Yuzu Sorbet": { allergens: [], color: 1 },
	"Strawberry Sorbet ": { allergens: [], color: 12 },
	"Coconut with Raspberry Swirl": { allergens: [], color: 1 },
	"Mango with Passionfruit Swirl": { allergens: [], color: 10 },
	"Lemon": { allergens: [], color: 1 },
	"Classic Strawberry": { allergens: [], color: 26 },
	"Raspberry lemonade": { allergens: [], color: 26 },
	"Watermelon Lime": { allergens: [], color: 26 },
	"Orange and Lemon": { allergens: [], color: 26 },
	"Coconut Cream and Desert Lime": { allergens: [], color: 26 },
	"Davidson Plum": { allergens: [], color: 26 },
	"Muntries": { allergens: [], color: 26 },
	"Banana": { allergens: ["MILK"], color: 10 },
	"Bean & Bikkie Ginger Bread": { allergens: ["MILK"], color: 9 },
	"Black Sesame": { allergens: ["MILK", "SESAME"], color: 24 },
	"Boysenberry Swirl": { allergens: ["MILK"], color: 1 },
	"Bubble Gum": { allergens: ["MILK"], color: 21 },
	"Blood Orange and Dark Chocolate": { allergens: ["MILK", "SOY"], color: 13 },
	"Caramel Crunch Ripple": { allergens: ["MILK"], color: 9 },
	"Chocolate": { allergens: ["MILK"], color: 20 },
	"Chocolate Ice Cream": { allergens: ["MILK"], color: 20 },
	"Chocolate Cherry Parfait": { allergens: ["SULPHITES", "MILK"], color: 20 },
	"Chocolate Hazelnut ": { allergens: ["WHEAT", "HAZELNUT", "ALMOND", "MILK", "SOY"], color: 20 },
	"Coconut  ": { allergens: ["MILK"], color: 1 },
	"Coffee  ": { allergens: ["MILK"], color: 18 },
	"Cinnamon": { allergens: ["MILK"], color: 8 },
	"Cookie Dough (French Vanilla with Choc Chip)": { allergens: ["WHEAT", "EGG", "MILK", "SOY"], color: 10 },
	"Cookies and Creme": { allergens: ["WHEAT", "MILK", "SOY"], color: 5 },
	"Durian": { allergens: ["MILK"], color: 10 },
	"French Vanilla Bean": { allergens: ["MILK"], color: 6 },
	"Frozen Yoghurt": { allergens: ["MILK"], color: 1 },
	"Frozen Peach Yoghurt": { allergens: ["MILK"], color: 7 },
	"Glen Ewin Fig Leaf": { allergens: ["MILK"], color: 1 },
	"Lime Spider": { allergens: ["MILK"], color: 3 },
	"Latte": { allergens: ["MILK"], color: 1 },
	"Lu'Mone Cheesecake": { allergens: ["WHEAT", "ALMOND", "MILK", "SOY"], color: 6 },
	"Lemon Myrtle & Macadamia with Toasted Coconut": { allergens: ["MACADAMIA", "MILK"], color: 1 },
	"Mango and Cream with Macadamia": { allergens: ["MACADAMIA", "MILK"], color: 2 },
	"Hazelnut": { allergens: ["HAZELNUT", "MILK"], color: 20 },
	"Hojicha (Roasted Green Tea)": { allergens: ["MILK"], color: 16 },
	"Irish Cream ": { allergens: ["ALMOND", "MILK", "SOY"], color: 18 },
	"Liquorice": { allergens: ["MILK"], color: 24 },
	"Macadamia and KI Honey": { allergens: ["MACADAMIA", "MILK"], color: 8 },
	"Matcha (Green Tea)": { allergens: ["MILK"], color: 19 },
	"Mint & Dark Chocolate": { allergens: ["MILK", "SOY"], color: 17 },
	"Old English Toffee": { allergens: ["MILK"], color: 15 },
	"Peanut Butter Cookie Dough": { allergens: ["WHEAT", "PEANUT", "MILK", "SOY"], color: 18 },
	"Pistachio": { allergens: ["PISTACHIO", "MILK"], color: 17 },
	"Rainbow": { allergens: ["MILK"], color: 25 },
	"Raspberry Swirl": { allergens: ["MILK"], color: 4 },
	"Ricotta, Fig and Honey": { allergens: ["MILK"], color: 1 },
	"Rum and Raisin": { allergens: ["MILK"], color: 10 },
	"Salted Caramel and Macadamia": { allergens: ["MACADAMIA", "MILK"], color: 9 },
	"Peanut Butter with Chocolate and Caramel Swirl": { allergens: ["HAZELNUT", "PEANUT", "MILK", "SOY"], color: 18 },
	"Strawberries Delight": { allergens: ["MILK"], color: 12 },
	"Thai Tea": { allergens: ["MILK"], color: 13 },
	"Turkish Delight": { allergens: ["MILK"], color: 12 },
	"Ube": { allergens: ["MILK"], color: 22 },
	"Vanilla Bean": { allergens: ["MILK"], color: 1 },
	"Vanilla Bean and Macadamia": { allergens: ["MACADAMIA", "MILK"], color: 1 },
	"Vanilla Bean Ice Cream": { allergens: ["MILK"], color: 1 },
	"Vanilla Bean with White Chocolate and Nougat": { allergens: ["WHEAT", "ALMOND", "MILK", "SOY"], color: 1 },
	"Vanilla Whip": { allergens: ["MILK"], color: 1 },
	"Watermelon Kiss": { allergens: ["MILK"], color: 12 },
	"White Chocolate": { allergens: ["MILK", "SOY"], color: 1 },
	"White Chocolate with Raspberry Ripple": { allergens: ["MILK", "SOY"], color: 1 },
	"Chocolate Coconut Rough": { allergens: ["MILK", "SOY"], color: 20 },
	"Choc Brownie": { allergens: ["WHEAT", "EGG", "MILK"], color: 20 },
	"Coffee": { allergens: ["MILK"], color: 18 },
	"Cookies and Crème": { allergens: ["WHEAT", "MILK", "SOY"], color: 5 },
	"Peanut Butter Cookie Dough  ": { allergens: ["WHEAT", "PEANUT", "MILK", "SOY"], color: 18 },
	"Chocolate Hazelnut": { allergens: ["WHEAT", "HAZELNUT", "ALMOND", "MILK", "SOY"], color: 20 },
	"Spiced Cookie Butter ": { allergens: ["WHEAT", "MILK", "SOY"], color: 18 },
	"Strawberry Delight": { allergens: ["MILK"], color: 12 },
	"Classic Chocolate ": { allergens: ["MILK"], color: 20 },
	"Classic Chocolate": { allergens: ["MILK"], color: 20 },
	"Lightly Salted Caramel Macadamia": { allergens: ["MACADAMIA", "MILK"], color: 18 },
	"Coffee with White Chocolate Swirl": { allergens: ["MILK", "SOY"], color: 18 },
	"Mint and Dark Chocolate": { allergens: ["MILK", "SOY"], color: 17 },
	"Strawberry with White Chocolate Swirl": { allergens: ["MILK", "SOY"], color: 12 },
	"Mango Smoothies": { allergens: ["MILK"], color: 26 },
	"Chocolate Banana": { allergens: ["MILK"], color: 26 },
	"Illawarra Plum": { allergens: ["MILK"], color: 26 },
	"Kakadu Plum": { allergens: ["MILK"], color: 26 },
	"Lilly Pilly & Wild Ginger": { allergens: ["MILK"], color: 26 },
	"Macadamia": { allergens: ["MACADAMIA", "MILK"], color: 26 },
	"Mallee Honey": { allergens: ["MILK"], color: 26 },
	"Native Mint": { allergens: ["MILK"], color: 26 },
	"Quandong": { allergens: ["MILK"], color: 26 },
	"Rosella": { allergens: ["MILK"], color: 26 },
	"Saltbush Caramel": { allergens: ["MILK"], color: 26 },
	"Strawberry Gum Leaf": { allergens: ["MILK"], color: 26 },
	"Wattleseed": { allergens: ["MILK"], color: 26 },
	"Josephine's French Vanilla": { allergens: ["MILK"], color: 26 },
	"Bees' Sneeze Honey Crunch": { allergens: ["MILK"], color: 26 },
	"Death by Chocolate": { allergens: ["MILK", "SOY"], color: 26 }
 };

  // ✅ 点击格子切换状态(选择口味和规格)
  document.querySelectorAll(".filled").forEach(cell => {
    cell.addEventListener("click", () => {
      cell.classList.toggle("selected");
    });
  });

// ✅ 点击确认按钮执行所有逻辑
  document.getElementById("confirm").addEventListener("click", () => {
    const selected = [];
    const rows = document.querySelectorAll(".tables-container table tbody tr");
    rows.forEach(row => {
      const flavour = row.children[0].textContent.trim();
      for (let i = 1; i < row.children.length; i++) {
        const cell = row.children[i];
        if (cell.classList.contains("selected")) {
          const size = row.closest("table").querySelector(`thead th:nth-child(${i + 1})`).textContent.trim();
          const input = cell.querySelector("input");
          const amount = input ? parseFloat(input.value) || 0 : 0;
          selected.push({ flavour, size, amount });
        }
      }
    });

    const selectedDay = document.querySelector(".day-label.selected").getAttribute("data-day");
    const currentDayContent = document.querySelector(`.day-content[data-day="${selectedDay}"]`);
    const tankWeight = parseFloat(currentDayContent.querySelector(".tankWeight").value) || 0;
    const bucketWeight = parseFloat(currentDayContent.querySelector(".bucketWeight").value) || 0;
    const tanks = currentDayContent.querySelectorAll(".tank");
    const buckets = currentDayContent.querySelectorAll(".bucket");

    const tankCapacity = 1000, bucketCapacity = 220, numTanks = 6, numBuckets = 4;
    const totalCapacity = tankCapacity * numTanks + bucketCapacity * numBuckets;
    const dailyOutbound = [500, 800, 600, 1000, 700, 1200, 900];

    // 按 flavour 聚合 total amount
    let productionMap = {};
    selected.forEach(item => {
      if (!productionMap[item.flavour]) productionMap[item.flavour] = 0;
      productionMap[item.flavour] += item.amount;
    });

    let productionPlan = Object.entries(productionMap).map(([flavour, total]) => ({ flavour, remaining: total }));

    let dayResults = [], storageLeft = tankWeight + bucketWeight;
    for (let day = 1; day <= 7; day++) {
      const producedToday = [];
      let spaceAvailable = totalCapacity - storageLeft;
      let outbound = dailyOutbound[day - 1];
      for (let i = 0; i < productionPlan.length; i++) {
        const item = productionPlan[i];
        if (item.remaining === 0) continue;
        const producible = Math.min(spaceAvailable, item.remaining);
        if (producible > 0) {
          producedToday.push({ flavour: item.flavour, amount: producible });
          productionPlan[i].remaining -= producible;
          storageLeft += producible;
          storageLeft -= outbound;
          storageLeft = Math.max(0, storageLeft);
          spaceAvailable -= producible;
          if (spaceAvailable <= 0) break;
        }
      }
      dayResults.push({ day: `Day ${day}`, produced: producedToday, storage: storageLeft });
    }

    // 存储到全局以便切换使用
    window.dayResults = dayResults;

    // 渲染 Day 1 ~ Day 7 的生产计划
    dayResults.forEach((dayResult, index) => {
      const dayContainer = document.querySelector(`.day-content[data-day="${index + 1}"] .production-list`);
      if (dayContainer) {
        dayContainer.innerHTML = "";
        dayResult.produced.forEach(p => {
          const li = document.createElement("li");
          li.textContent = `${p.flavour} – ${p.amount}kg`;
          dayContainer.appendChild(li);
        });
        const liStorage = document.createElement("li");
        liStorage.textContent = `Storage Left: ${dayResult.storage}kg`;
        dayContainer.appendChild(liStorage);
      }
    });

    runProductionPath(selected);
  });

  // ✅ 切换 Day 标签时显示对应天的 Tank/Bucket 状态
  document.querySelectorAll(".day-label").forEach(label => {
    label.addEventListener("click", () => {
      const selectedDayIndex = parseInt(label.getAttribute("data-day"));
      const dayResult = window.dayResults?.[selectedDayIndex];
      if (!dayResult) return;

      const totalTank = 1000 * 6;
      const totalBucket = 220 * 4;

      let remainingTank = Math.min(dayResult.storage, totalTank);
      let remainingBucket = Math.max(0, dayResult.storage - totalTank);

      const currentDayContent = document.querySelector(`.day-content[data-day="${selectedDayIndex}"]`);
      const tanks = currentDayContent.querySelectorAll(".tank");
      const buckets = currentDayContent.querySelectorAll(".bucket");

      tanks.forEach(t => {
        t.classList.remove("filled");
        const fill = Math.min(remainingTank, 1000);
        if (fill > 0) {
          t.classList.add("filled");
          t.querySelector(".label").textContent = `${fill}kg`;
        } else {
          t.querySelector(".label").textContent = "0kg";
        }
        remainingTank -= fill;
      });

      buckets.forEach(b => {
        b.classList.remove("filled");
        const fill = Math.min(remainingBucket, 220);
        if (fill > 0) {
          b.classList.add("filled");
          b.querySelector(".label").textContent = `${fill}kg`;
        } else {
          b.querySelector(".label").textContent = "0kg";
        }
        remainingBucket -= fill;
      });
    });
  });


  function runProductionPath(selected) {
    const graph = buildGraph(selected);
    const path = greedyPath(graph, flavourInfo, selected);
    const sorted = path.map(name => selected.find(f => f.flavour === name));
    const analysisDiv = document.querySelector('.analysis-content');
    if (sorted.length === 0) {
      analysisDiv.innerHTML = `<em>⚠️ No flavour selected.</em>`;
    } else {
      const { svg, totalHeight } = renderSVGPath(sorted, flavourInfo);
      analysisDiv.innerHTML = `<strong>🧭 Production Path (SVG View):</strong><br><br><div id="svg-container" style="min-height: ${totalHeight + 40}px; overflow-x: auto;">${svg}</div>`;
    }
    const container = document.getElementById("svg-container");
    if (container) {
      const observer = new ResizeObserver(entries => {
        for (let entry of entries) {
          container.parentElement.style.minHeight = `${entry.contentRect.height + 40}px`;
        }
      });
      observer.observe(container);
    }
  }

  function isSubset(a, b) {
    return a.every(val => b.includes(val));
  }

  function computeCost(fa, fb) {
    const allergenCompatible = isSubset(fa.allergens, fb.allergens);
    const colorOk = fb.color >= fa.color;
    return (allergenCompatible && colorOk) ? 0 : 100;
  }

  function buildGraph(selected) {
    const graph = {};
    selected.forEach(a => {
      const fa = flavourInfo[a.flavour] || { allergens: [], color: 99 };
      graph[a.flavour] = [];
      selected.forEach(b => {
        if (a.flavour === b.flavour) return;
        const fb = flavourInfo[b.flavour] || { allergens: [], color: 99 };
        const cost = computeCost(fa, fb);
        graph[a.flavour].push({ to: b.flavour, cost });
      });
    });
    return graph;
  }

  function greedyPath(graph, flavourInfo, selected) {
    const visited = new Set();
    const path = [];
    selected.sort((a, b) => {
      const fa = flavourInfo[a.flavour] || { allergens: [], color: 99 };
      const fb = flavourInfo[b.flavour] || { allergens: [], color: 99 };
      return fa.allergens.length - fb.allergens.length || fa.color - fb.color;
    });
    let current = selected[0]?.flavour;
    while (current) {
      visited.add(current);
      path.push(current);
      const next = (graph[current] || []).filter(e => !visited.has(e.to)).sort((a, b) => a.cost - b.cost);
      current = next.length > 0 ? next[0].to : null;
    }
    return path;
  }

  function renderSVGPath(sorted, flavourInfo) {
    const spacing = 60, arrowSize = 10, fontSize = 12, margin = 20, lineHeight = 100;
    let svgContent = '', x = margin, y = margin;
    const screenWidth = window.innerWidth;
    const maxWidth = Math.max(screenWidth - margin * 2, 1400);
    let totalHeight = lineHeight, svgWidth = 0;

    for (let i = 0; i < sorted.length; i++) {
      const flavour = sorted[i].flavour;
      const size = sorted[i].size;
      const label = `${flavour} (${size})`;
      const textLength = label.length * 7.5;
      const boxWidth = textLength + 20;
      const boxHeight = 40;

      if (x + boxWidth > maxWidth) {
        x = margin;
        y += lineHeight;
        totalHeight += lineHeight;
      }

      svgContent += `<rect x="${x}" y="${y}" width="${boxWidth}" height="${boxHeight}" rx="10" ry="10" fill="#e0f7fa" stroke="#00796b" stroke-width="2"/>`;
      svgContent += `<text x="${x + boxWidth / 2}" y="${y + boxHeight / 2 + 4}" font-size="${fontSize}" text-anchor="middle">${label}</text>`;

      if (i < sorted.length - 1) {
        const next = sorted[i + 1];
        const nextLabel = `${next.flavour} (${next.size})`;
        const nextLength = nextLabel.length * 7.5 + 20;
        const nextFits = x + boxWidth + spacing + nextLength < maxWidth;
        if (nextFits) {
          const ax = x + boxWidth, ay = y + boxHeight / 2;
          const bx = ax + spacing - arrowSize;
          svgContent += `<line x1="${ax}" y1="${ay}" x2="${bx}" y2="${ay}" stroke="black" stroke-width="2" marker-end="url(#arrow)"/>`;

          const fa = flavourInfo[flavour] || { allergens: [], color: 99 };
          const fb = flavourInfo[next.flavour] || { allergens: [], color: 99 };
          const needsCleaning = !(fa.allergens.every(a => fb.allergens.includes(a)) && fb.color >= fa.color);
          if (needsCleaning) {
            svgContent += `<text x="${(ax + bx) / 2}" y="${ay - 15}" font-size="${fontSize}" font-weight="bold" text-anchor="middle" fill="red">Clean</text>`;
          }
        }
      }

      x += boxWidth + spacing;
      svgWidth = Math.max(svgWidth, x);
    }

    return {
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="${svgWidth}" height="${totalHeight + margin}" style="font-family: Arial;">${svgContent}<defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="black"/></marker></defs></svg>`,
      totalHeight, svgWidth
    };
  }

  function renderDailyProduction(dayResult, container) {
    const ul = document.createElement("ul");
    ul.innerHTML = `<strong>${dayResult.day}</strong>`;
    dayResult.produced.forEach(p => {
      const li = document.createElement("li");
      li.textContent = `${p.flavour} – ${p.amount}kg`;
      ul.appendChild(li);
    });
    const storageLi = document.createElement("li");
    storageLi.textContent = `Storage Left: ${dayResult.storage}kg`;
    ul.appendChild(storageLi);
    container.appendChild(ul);
  }

  document.querySelectorAll(".day-label").forEach(day => {
    day.addEventListener("click", () => {
      document.querySelectorAll(".day-label").forEach(d => d.classList.remove("selected"));
      day.classList.add("selected");
      const selectedDay = day.getAttribute("data-day");
      document.querySelectorAll(".day-content").forEach(content => {
        content.style.display = content.getAttribute("data-day") === selectedDay ? "block" : "none";
      });
    });
  });
</script>

</body>
</html>
